{"uid":"e6ab2dc4c77f7312","name":"Create new Asset","fullName":"Tests.TestCases.Stream_GP.Asset.AssetAdd.test_add_asset.TestAddAsset#test_add_asset","historyId":"e58cb66cf709bd7e30c2826db34c8c4e","time":{"start":1703472930817,"stop":1703472930817,"duration":0},"description":" Add Asset ","descriptionHtml":"<p>Add Asset</p>\n","status":"broken","statusMessage":"RuntimeError: Unable to log in after 4 attempts. Email: uitest@snapmail.cc. Area: 1automarch2023. URL: None","statusTrace":"@pytest.fixture(scope='class')\n    def gp_login():\n>       return gplogin_service.login()\n\nTests/TestCases/conftest.py:65: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nServices/PageServices/Complex/gploginservice.py:142: in login\n    return self.login_area(email=ini.gp_email, passwd=ini.gp_passwd, account_type=uiMock.account_type)\nServices/PageServices/Complex/gploginservice.py:126: in login_area\n    return self.gp_signin(email, passwd, account_type)\nServices/PageServices/Complex/gploginservice.py:106: in gp_signin\n    gp_login.login_area(email, passwd, area=self.area, mfa=False)\nServices/PageServices/GP/Login/gploginpage.py:33: in login_area\n    self.__attempt_sign_in(email, passwd, set_up_totp, reset_password_if_required, signin_url, area, mfa=mfa)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Services.PageServices.GP.Login.gploginpage.GpLoginPage object at 0x7fb982d76700>\nemail = 'uitest@snapmail.cc', passwd = 'Mango@1314', set_up_totp = True\nreset_password_if_required = True, signin_url = None, area = '1automarch2023'\nmfa = False\n\n    def __attempt_sign_in(self, email, passwd, set_up_totp, reset_password_if_required, signin_url=None, area=None, mfa=True):\n        # retry implemented as seeing the login/out issue a lot at the moment\n        attempt = 0\n        while attempt < 4:\n            try:\n                attempt += 1\n                logging.info(\n                    f\"logging in as {email} with password {passwd}, set_up_totp: {set_up_totp}, reset_password_if_required: {reset_password_if_required}\")\n                self.input_email(email)\n                self.input_passwd(passwd)\n                self.click_continue()\n                if reset_password_if_required and self.email_or_password_incorrect_text_is_visible():\n                    logging.info(f\"Resetting password\")\n                    self.forgot_and_reset_password(email, passwd)\n                    self.into_gp_area_login(signin_url, area=area)\n                    continue\n    \n                # GP's MFA can be turned off\n                if not self.is_signin_page() and self.login_success():\n                    return\n    \n                if mfa:\n                    if self.on_mfa_type_select_screen():\n                        logging.info(f\"On MFA select screen\")\n                        if set_up_totp:\n                            logging.info(f\"Setting up TOTP\")\n                            self.set_up_totp(email)\n                        else:\n                            logging.info(f\"Using email MFA\")\n                            self.click_mfa_email()\n                            self.enter_email_code(msd.gp_mfa_email_code(email), await_tenant_response=True)\n                    else:\n                        logging.info(f\"Using TOTP MFA\")\n                        self.enter_auth_app_code(email, await_tenant_response=True)\n                    if self.on_dashboard():\n                        # Preferences may appear and disappear instantly....wait and check again\n                        self.driver.sleep(2)\n                        if self.on_dashboard():\n                            logging.info(f\"Sign in complete\")\n                        return\n            except Exception as e:\n                if 'bite.cloudflareaccess.com' in self.driver.get_url():\n                    GpMicrosoftLoginPage(self.ui_page_name).login()\n                    return\n                logging.info(f\"Log in has failed, returned back to {self.driver.get_url()}, attempt: {attempt} of 4\")\n    \n>       raise RuntimeError(f'Unable to log in after 4 attempts. Email: {email}. Area: {area}. URL: {signin_url}')\nE       RuntimeError: Unable to log in after 4 attempts. Email: uitest@snapmail.cc. Area: 1automarch2023. URL: None\n\nServices/PageServices/GP/Login/gploginpage.py:84: RuntimeError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"_session_faker","time":{"start":1703472763602,"stop":1703472763623,"duration":21},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"gp_session_fixture","time":{"start":1703472763623,"stop":1703472763623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"worker_id","time":{"start":1703472763623,"stop":1703472763623,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_parallel_session","time":{"start":1703472763624,"stop":1703472763625,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"testrun_uid","time":{"start":1703472763624,"stop":1703472763624,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"open_assets_issuance_gp","time":{"start":1703472763625,"stop":1703472772173,"duration":8548},"status":"passed","steps":[{"name":"Welcome back!","time":{"start":1703472769242,"stop":1703472769299,"duration":57},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Get Tenant ID - 1automarch2023","time":{"start":1703472769330,"stop":1703472770058,"duration":728},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the Feature flag","time":{"start":1703472771349,"stop":1703472772094,"duration":745},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Open Assets Issuance","time":{"start":1703472772094,"stop":1703472772157,"duration":63},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":4,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"dispose_ui_drivers_after_class","time":{"start":1703472763625,"stop":1703472763625,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"gp_login","time":{"start":1703472772173,"stop":1703472930181,"duration":158008},"status":"broken","statusMessage":"RuntimeError: Unable to log in after 4 attempts. Email: uitest@snapmail.cc. Area: 1automarch2023. URL: None\n","statusTrace":"  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/pluggy/_callers.py\", line 77, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/_pytest/fixtures.py\", line 1111, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/_pytest/fixtures.py\", line 890, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Tests/TestCases/conftest.py\", line 65, in gp_login\n    return gplogin_service.login()\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/Complex/gploginservice.py\", line 142, in login\n    return self.login_area(email=ini.gp_email, passwd=ini.gp_passwd, account_type=uiMock.account_type)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/Complex/gploginservice.py\", line 126, in login_area\n    return self.gp_signin(email, passwd, account_type)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/Complex/gploginservice.py\", line 106, in gp_signin\n    gp_login.login_area(email, passwd, area=self.area, mfa=False)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/GP/Login/gploginpage.py\", line 33, in login_area\n    self.__attempt_sign_in(email, passwd, set_up_totp, reset_password_if_required, signin_url, area, mfa=mfa)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/GP/Login/gploginpage.py\", line 84, in __attempt_sign_in\n    raise RuntimeError(f'Unable to log in after 4 attempts. Email: {email}. Area: {area}. URL: {signin_url}')\n","steps":[{"name":"GP Login","time":{"start":1703472789571,"stop":1703472813342,"duration":23771},"status":"passed","steps":[{"name":"Go to GP Login Page","time":{"start":1703472789571,"stop":1703472791117,"duration":1546},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter email - uitest@snapmail.cc","time":{"start":1703472791117,"stop":1703472791213,"duration":96},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter Password - Mango@1314","time":{"start":1703472791213,"stop":1703472791308,"duration":95},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the Continue button","time":{"start":1703472791308,"stop":1703472792452,"duration":1144},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Welcome back!","time":{"start":1703472800853,"stop":1703472800909,"duration":56},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Get Tenant ID - 1automarch2023","time":{"start":1703472800939,"stop":1703472801661,"duration":722},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the Feature flag","time":{"start":1703472802970,"stop":1703472803698,"duration":728},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Close Assets Issuance","time":{"start":1703472803698,"stop":1703472805702,"duration":2004},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Go to GP Login Page","time":{"start":1703472805717,"stop":1703472806987,"duration":1270},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter email - uitest@snapmail.cc","time":{"start":1703472806987,"stop":1703472807084,"duration":97},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter Password - Mango@1314","time":{"start":1703472807084,"stop":1703472807177,"duration":93},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the Continue button","time":{"start":1703472807177,"stop":1703472808318,"duration":1141},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":12,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Get GP/WM Member","time":{"start":1703472813343,"stop":1703472830876,"duration":17533},"status":"passed","steps":[{"name":"Welcome back!","time":{"start":1703472818581,"stop":1703472818634,"duration":53},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Get Tenant ID - 1automarch2023","time":{"start":1703472818664,"stop":1703472819382,"duration":718},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click GP Link","time":{"start":1703472819382,"stop":1703472820073,"duration":691},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Go to Preferences > Members","time":{"start":1703472823051,"stop":1703472825907,"duration":2856},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Input - uitest@snapmail.cc","time":{"start":1703472825907,"stop":1703472826666,"duration":759},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the search button of member list","time":{"start":1703472826666,"stop":1703472828032,"duration":1366},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Get names in the list","time":{"start":1703472828585,"stop":1703472828706,"duration":121},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Open dropdown menu","time":{"start":1703472828706,"stop":1703472829311,"duration":605},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the Change account type button","time":{"start":1703472829312,"stop":1703472829676,"duration":364},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Check account type - ['Operational Support', 'Fund Manager Admin', 'Fund Director', 'Fund Administrator', 'Relationship Manager', 'Head of Investor Relations', 'Legal Counsel']","time":{"start":1703472829677,"stop":1703472830195,"duration":518},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the Confirm button","time":{"start":1703472830195,"stop":1703472830876,"duration":681},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"GP/WM Login","time":{"start":1703472830876,"stop":1703472930181,"duration":99305},"status":"broken","statusMessage":"RuntimeError: Unable to log in after 4 attempts. Email: uitest@snapmail.cc. Area: 1automarch2023. URL: None\n","statusTrace":"  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/Complex/gploginservice.py\", line 106, in gp_signin\n    gp_login.login_area(email, passwd, area=self.area, mfa=False)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/GP/Login/gploginpage.py\", line 33, in login_area\n    self.__attempt_sign_in(email, passwd, set_up_totp, reset_password_if_required, signin_url, area, mfa=mfa)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Services/PageServices/GP/Login/gploginpage.py\", line 84, in __attempt_sign_in\n    raise RuntimeError(f'Unable to log in after 4 attempts. Email: {email}. Area: {area}. URL: {signin_url}')\n","steps":[{"name":"Go to GP Login Page","time":{"start":1703472830877,"stop":1703472832778,"duration":1901},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter email - uitest@snapmail.cc","time":{"start":1703472832778,"stop":1703472832872,"duration":94},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter Password - Mango@1314","time":{"start":1703472832872,"stop":1703472832967,"duration":95},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Click the Continue button","time":{"start":1703472832967,"stop":1703472834097,"duration":1130},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Enter email - uitest@snapmail.cc","time":{"start":1703472840119,"stop":1703472870139,"duration":30020},"status":"broken","statusMessage":"playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator(\"input[formcontrolname='email']:visible\").first\n============================================================\n","statusTrace":"  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Repositories/PageObjectModels/PageObject/GP/Login/gploginobjects.py\", line 71, in input_email\n    self.driver.input_text(ele.input_gp_email, email)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Adapters/UiAdapters/uidriver.py\", line 260, in input_text\n    if ele.input_value():\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/sync_api/_generated.py\", line 17300, in input_value\n    self._sync(self._impl_obj.input_value(timeout=timeout))\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_sync_base.py\", line 109, in _sync\n    return task.result()\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_locator.py\", line 451, in input_value\n    return await self._frame.input_value(\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_frame.py\", line 682, in input_value\n    return await self._channel.send(\"inputValue\", locals_to_params(locals()))\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 482, in wrap_api_call\n    return await cb()\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Enter email - uitest@snapmail.cc","time":{"start":1703472870139,"stop":1703472900159,"duration":30020},"status":"broken","statusMessage":"playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator(\"input[formcontrolname='email']:visible\").first\n============================================================\n","statusTrace":"  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Repositories/PageObjectModels/PageObject/GP/Login/gploginobjects.py\", line 71, in input_email\n    self.driver.input_text(ele.input_gp_email, email)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Adapters/UiAdapters/uidriver.py\", line 260, in input_text\n    if ele.input_value():\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/sync_api/_generated.py\", line 17300, in input_value\n    self._sync(self._impl_obj.input_value(timeout=timeout))\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_sync_base.py\", line 109, in _sync\n    return task.result()\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_locator.py\", line 451, in input_value\n    return await self._frame.input_value(\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_frame.py\", line 682, in input_value\n    return await self._channel.send(\"inputValue\", locals_to_params(locals()))\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 482, in wrap_api_call\n    return await cb()\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Enter email - uitest@snapmail.cc","time":{"start":1703472900160,"stop":1703472930181,"duration":30021},"status":"broken","statusMessage":"playwright._impl._api_types.TimeoutError: Timeout 30000ms exceeded.\n=========================== logs ===========================\nwaiting for locator(\"input[formcontrolname='email']:visible\").first\n============================================================\n","statusTrace":"  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Repositories/PageObjectModels/PageObject/GP/Login/gploginobjects.py\", line 71, in input_email\n    self.driver.input_text(ele.input_gp_email, email)\n  File \"/home/qaadmin/actions-runner/_work/stream-test-ui/stream-test-ui/Adapters/UiAdapters/uidriver.py\", line 260, in input_text\n    if ele.input_value():\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/sync_api/_generated.py\", line 17300, in input_value\n    self._sync(self._impl_obj.input_value(timeout=timeout))\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_sync_base.py\", line 109, in _sync\n    return task.result()\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_locator.py\", line 451, in input_value\n    return await self._frame.input_value(\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_frame.py\", line 682, in input_value\n    return await self._channel.send(\"inputValue\", locals_to_params(locals()))\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 61, in send\n    return await self._connection.wrap_api_call(\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 482, in wrap_api_call\n    return await cb()\n  File \"/home/qaadmin/.pyenv/versions/3.8.10/lib/python3.8/site-packages/playwright/_impl/_connection.py\", line 97, in inner_send\n    result = next(iter(done)).result()\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":33,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"testStage":{"description":" Add Asset ","status":"broken","statusMessage":"RuntimeError: Unable to log in after 4 attempts. Email: uitest@snapmail.cc. Area: 1automarch2023. URL: None","statusTrace":"@pytest.fixture(scope='class')\n    def gp_login():\n>       return gplogin_service.login()\n\nTests/TestCases/conftest.py:65: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nServices/PageServices/Complex/gploginservice.py:142: in login\n    return self.login_area(email=ini.gp_email, passwd=ini.gp_passwd, account_type=uiMock.account_type)\nServices/PageServices/Complex/gploginservice.py:126: in login_area\n    return self.gp_signin(email, passwd, account_type)\nServices/PageServices/Complex/gploginservice.py:106: in gp_signin\n    gp_login.login_area(email, passwd, area=self.area, mfa=False)\nServices/PageServices/GP/Login/gploginpage.py:33: in login_area\n    self.__attempt_sign_in(email, passwd, set_up_totp, reset_password_if_required, signin_url, area, mfa=mfa)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <Services.PageServices.GP.Login.gploginpage.GpLoginPage object at 0x7fb982d76700>\nemail = 'uitest@snapmail.cc', passwd = 'Mango@1314', set_up_totp = True\nreset_password_if_required = True, signin_url = None, area = '1automarch2023'\nmfa = False\n\n    def __attempt_sign_in(self, email, passwd, set_up_totp, reset_password_if_required, signin_url=None, area=None, mfa=True):\n        # retry implemented as seeing the login/out issue a lot at the moment\n        attempt = 0\n        while attempt < 4:\n            try:\n                attempt += 1\n                logging.info(\n                    f\"logging in as {email} with password {passwd}, set_up_totp: {set_up_totp}, reset_password_if_required: {reset_password_if_required}\")\n                self.input_email(email)\n                self.input_passwd(passwd)\n                self.click_continue()\n                if reset_password_if_required and self.email_or_password_incorrect_text_is_visible():\n                    logging.info(f\"Resetting password\")\n                    self.forgot_and_reset_password(email, passwd)\n                    self.into_gp_area_login(signin_url, area=area)\n                    continue\n    \n                # GP's MFA can be turned off\n                if not self.is_signin_page() and self.login_success():\n                    return\n    \n                if mfa:\n                    if self.on_mfa_type_select_screen():\n                        logging.info(f\"On MFA select screen\")\n                        if set_up_totp:\n                            logging.info(f\"Setting up TOTP\")\n                            self.set_up_totp(email)\n                        else:\n                            logging.info(f\"Using email MFA\")\n                            self.click_mfa_email()\n                            self.enter_email_code(msd.gp_mfa_email_code(email), await_tenant_response=True)\n                    else:\n                        logging.info(f\"Using TOTP MFA\")\n                        self.enter_auth_app_code(email, await_tenant_response=True)\n                    if self.on_dashboard():\n                        # Preferences may appear and disappear instantly....wait and check again\n                        self.driver.sleep(2)\n                        if self.on_dashboard():\n                            logging.info(f\"Sign in complete\")\n                        return\n            except Exception as e:\n                if 'bite.cloudflareaccess.com' in self.driver.get_url():\n                    GpMicrosoftLoginPage(self.ui_page_name).login()\n                    return\n                logging.info(f\"Log in has failed, returned back to {self.driver.get_url()}, attempt: {attempt} of 4\")\n    \n>       raise RuntimeError(f'Unable to log in after 4 attempts. Email: {email}. Area: {area}. URL: {signin_url}')\nE       RuntimeError: Unable to log in after 4 attempts. Email: uitest@snapmail.cc. Area: 1automarch2023. URL: None\n\nServices/PageServices/GP/Login/gploginpage.py:84: RuntimeError","steps":[],"attachments":[{"uid":"fc5f7b56eaf177d9","name":"log","source":"fc5f7b56eaf177d9.txt","type":"text/plain","size":5234},{"uid":"3f65c48738043b83","name":"stdout","source":"3f65c48738043b83.txt","type":"text/plain","size":85}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":2,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"dispose_ui_drivers_after_class::0","time":{"start":1703472930877,"stop":1703472930926,"duration":49},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"setup_parallel_session::0","time":{"start":1703472930927,"stop":1703472932107,"duration":1180},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"gp_session_fixture::0","time":{"start":1703472932110,"stop":1703472932111,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"feature","value":"Asset"},{"name":"story","value":"Create new Asset"},{"name":"epic","value":"Stream GP"},{"name":"tag","value":"gp_smoke"},{"name":"parentSuite","value":"Tests.TestCases.Stream_GP.Asset.AssetAdd"},{"name":"suite","value":"test_add_asset"},{"name":"subSuite","value":"TestAddAsset"},{"name":"host","value":"autotesting-linux-vm"},{"name":"thread","value":"512310-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"Tests.TestCases.Stream_GP.Asset.AssetAdd.test_add_asset"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":["gp_smoke"]},"source":"e6ab2dc4c77f7312.json","parameterValues":[]}